name: '.Platform: Sync Docs/Wiki'

trigger:
  branches:
    include:
      - main
  paths:
    include:
      - 'docs/wiki/**'

variables:
  - template: '/.azuredevops/pipelineVariables/global.variables.yml'
  - name: pipelinePrincipalGitUserName
    value: 'CARMLPipelinePrincipal'
  - name: pipelinePrincipalGitUserEmail
    value: 'CARML@noreply.github.com'

jobs:
  - job: Update_module_tables
    pool:
      ${{ if ne('$(vmImage)', '') }}:
        vmImage: '$(vmImage)'
      ${{ if ne('$(poolName)', '') }}:
        name: '$(poolName)'
    steps:
      - checkout: self
        displayName: Checkout Source Repo
        persistCredentials: true
      - checkout: '$(Build.Repository.Uri).wiki'
        displayName: Checkout Wiki Repo
        persistCredentials: true
